{"version":3,"names":[],"mappings":"","sources":["b.events.js"],"sourcesContent":["// // fn\r\n// function eventUrlUpdate(loc) {\r\n// \ttry {\r\n// \t\thistory.pushState(null, null, loc);\r\n// \t\treturn;\r\n// \t} catch (e) {}\r\n// \tlocation.hash = \"#\" + loc;\r\n// }\r\n\r\n// function eventFilterUpdate() {\r\n// \t/*\r\n// \tif ($(\".filter-date-set.active\")) {\r\n// \t\t$(\"#filter-date-current\").text($(\".filter-date-set.active\").data(\"name\"));\r\n// \t}\r\n// \t*/\r\n// \t$(\".prop-wrapper,.place-wrapper\").each(function () {\r\n// \t\tlet $$ = $(this),\r\n// \t\t\tsnap = $$.data(\"snap\"),\r\n// \t\t\tc = 0;\r\n// \t\t$(\"input:checked\", $$).each(function () {\r\n// \t\t\tc++;\r\n// \t\t});\r\n// \t\t$(\"em[data-snap='\" + snap + \"']\").text(c ? \"{ \" + c + \" }\" : \"\");\r\n// \t});\r\n// }\r\n\r\n// function eventFilterSet(output) {\r\n// \tlet filter = [];\r\n// \t// date filter\r\n// \tif ($(\".datepicker-wrapper\").length) {\r\n// \t\tlet range = pickmeup(\"#filter-date-datepicker\").get_date(true);\r\n// \t\tif (!(current_date == range[0] && current_date == range[1])) {\r\n// \t\t\tif (filter_preset == \"default\") {\r\n// \t\t\t} else if (filter_preset !== false) {\r\n// \t\t\t\tfilter.push(\"[date:\" + filter_preset + \"]\");\r\n// \t\t\t} else if (range[0] != range[1]) {\r\n// \t\t\t\tfilter.push(\"[date:\" + range[0] + \":\" + range[1] + \"]\");\r\n// \t\t\t} else {\r\n// \t\t\t\tfilter.push(\"[date:\" + range[0] + \"]\");\r\n// \t\t\t}\r\n// \t\t}\r\n// \t}\r\n// \t// place filter\r\n// \tlet placefilter = {};\r\n// \t$(\".place-wrapper input:checked\").each(function () {\r\n// \t\tlet $$ = $(this);\r\n// \t\tif (placefilter[$$.attr(\"name\")] != undefined) {\r\n// \t\t\tplacefilter[$$.attr(\"name\")] = placefilter[$$.attr(\"name\")] + \",\" + $$.val();\r\n// \t\t} else {\r\n// \t\t\tplacefilter[$$.attr(\"name\")] = $$.val();\r\n// \t\t}\r\n// \t});\r\n// \t$.each(placefilter, function (index, value) {\r\n// \t\tif (value != undefined) filter.push(\"[\" + index + \":\" + value + \"]\");\r\n// \t});\r\n// \t// prop filter\r\n// \tlet propfilter = {};\r\n// \t$(\".prop-wrapper input:checked\").each(function () {\r\n// \t\tlet $$ = $(this);\r\n// \t\tif (propfilter[$$.attr(\"name\")] != undefined) {\r\n// \t\t\tpropfilter[$$.attr(\"name\")] = propfilter[$$.attr(\"name\")] + \",\" + $$.val();\r\n// \t\t} else {\r\n// \t\t\tpropfilter[$$.attr(\"name\")] = $$.val();\r\n// \t\t}\r\n// \t});\r\n// \t$.each(propfilter, function (index, value) {\r\n// \t\tif (value != undefined) filter.push(\"[\" + index + \":\" + value + \"]\");\r\n// \t});\r\n// \tlet filter_str = filter.length ? filter.join(\"\") : \"\";\r\n// \tif (output) {\r\n// \t\t$.ajax({\r\n// \t\t\turl: \"/ajax/\",\r\n// \t\t\tcache: false,\r\n// \t\t\tdata: {\r\n// \t\t\t\tmode: $(\"#ajax-filter-url\").data(\"mode\"),\r\n// \t\t\t\tforce_pagination: 1,\r\n// \t\t\t\tfilters: filter_str,\r\n// \t\t\t\tpage: 0,\r\n// \t\t\t},\r\n// \t\t\ttype: \"post\",\r\n// \t\t\tdataType: \"text\",\r\n// \t\t\tsuccess: function (response) {\r\n// \t\t\t\tlet html = $(\"<div></div>\").html(response);\r\n// \t\t\t\tlet data = html.find(\"#ajax-temp\");\r\n// \t\t\t\tif (!data.length) {\r\n// \t\t\t\t\t$(\"#ajax-container\").html(response);\r\n// \t\t\t\t} else {\r\n// \t\t\t\t\t$(\"#ajax-pagination-more,#ajax-pagination-container\").html(\"\");\r\n// \t\t\t\t\tlet pagination = html.find(\"#ajax-pagination-container\"),\r\n// \t\t\t\t\t\tpagination_more = html.find(\"#ajax-pagination-more\");\r\n// \t\t\t\t\t$(\"#ajax-container\").html(data.html());\r\n// \t\t\t\t\t$(\"#ajax-pagination-container\").html(pagination.html());\r\n// \t\t\t\t\t$(\"#ajax-pagination-more\").html(pagination_more.html());\r\n// \t\t\t\t}\r\n// \t\t\t},\r\n// \t\t});\r\n// \t\tlet url = filter.length ? filter_default_url + \"filters\" + filter_str + \"/\" : filter_default_url;\r\n// \t\teventFilterUpdate();\r\n// \t\teventUrlUpdate(url);\r\n// \t} else {\r\n// \t\treturn filter_str;\r\n// \t}\r\n// }\r\n\r\n// // plugins\r\n// pickmeup.defaults.locales[\"ru\"] = {\r\n// \tdays: [\"Р’РѕСЃРєСЂРµСЃРµРЅСЊРµ\", \"РџРѕРЅРµРґРµР»СЊРЅРёРє\", \"Р’С‚РѕСЂРЅРёРє\", \"РЎСЂРµРґР°\", \"Р§РµС‚РІРµСЂРі\", \"РџСЏС‚РЅРёС†Р°\", \"РЎСѓР±Р±РѕС‚Р°\"],\r\n// \tdaysShort: [\"Р’СЃ\", \"РџРЅ\", \"Р’С‚\", \"РЎСЂ\", \"Р§С‚\", \"РџС‚\", \"РЎР±\"],\r\n// \tdaysMin: [\"Р’СЃ\", \"РџРЅ\", \"Р’С‚\", \"РЎСЂ\", \"Р§С‚\", \"РџС‚\", \"РЎР±\"],\r\n// \tmonths: [\"РЇРЅРІР°СЂСЊ\", \"Р¤РµРІСЂР°Р»СЊ\", \"РњР°СЂС‚\", \"РђРїСЂРµР»СЊ\", \"РњР°Р№\", \"РСЋРЅСЊ\", \"РСЋР»СЊ\", \"РђРІРіСѓСЃС‚\", \"РЎРµРЅС‚СЏР±СЂСЊ\", \"РћРєС‚СЏР±СЂСЊ\", \"РќРѕСЏР±СЂСЊ\", \"Р”РµРєР°Р±СЂСЊ\"],\r\n// \tmonthsShort: [\"РЇРЅРІ\", \"Р¤РµРІ\", \"РњР°СЂ\", \"РђРїСЂ\", \"РњР°Р№\", \"РСЋРЅ\", \"РСЋР»\", \"РђРІРі\", \"РЎРµРЅ\", \"РћРєС‚\", \"РќРѕСЏ\", \"Р”РµРє\"],\r\n// };\r\n\r\n// pickmeup(\"#filter-date-datepicker\", {\r\n// \tlocale: \"ru\",\r\n// \tformat: \"Y-m-d\",\r\n// \tprev: '<svg><path d=\"M 17,12 l -5,5 l 5,5\"></path></svg>',\r\n// \tnext: '<svg><path d=\"M 14,12 l 5,5 l -5,5\"></path></svg>',\r\n// \tselect_month: false,\r\n// \tselect_year: false,\r\n// \tmin: new Date(),\r\n// \tflat: true,\r\n// \tcalendars: 2,\r\n// \tmode: \"range\",\r\n// });\r\n\r\n// if ($(\".slider-combined\").length) {\r\n// \tconst swpEventsOther = new Swiper(\".slider-combined\", {\r\n// \t\tslidesPerView: 4,\r\n// \t\tslidesPerGroup: 1,\r\n// \t\tspaceBetween: 10,\r\n// \t\tnavigation: {\r\n// \t\t\tnextEl: \".combined-a .swiper-button-next\",\r\n// \t\t\tprevEl: \".combined-a .swiper-button-prev\",\r\n// \t\t},\r\n// \t\t// Responsive breakpoints\r\n// \t\tbreakpoints: {\r\n// \t\t\t// when window width is <= 480px\r\n// \t\t\t1550: {\r\n// \t\t\t\tslidesPerView: 4,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t900: {\r\n// \t\t\t\tslidesPerView: 3,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t700: {\r\n// \t\t\t\tslidesPerView: 2,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t// when window width is <= 320px\r\n// \t\t\t300: {\r\n// \t\t\t\tslidesPerView: 1,\r\n// \t\t\t\tspaceBetween: 10,\r\n// \t\t\t},\r\n// \t\t},\r\n// \t});\r\n// }\r\n\r\n// if ($(\".slider-combined-2\").length) {\r\n// \tconst swpEventsOther = new Swiper(\".slider-combined-2\", {\r\n// \t\tslidesPerView: 4,\r\n// \t\tslidesPerGroup: 1,\r\n// \t\tspaceBetween: 10,\r\n// \t\tnavigation: {\r\n// \t\t\tnextEl: \".combined-b .swiper-button-next\",\r\n// \t\t\tprevEl: \".combined-b .swiper-button-prev\",\r\n// \t\t},\r\n// \t\t// Responsive breakpoints\r\n// \t\tbreakpoints: {\r\n// \t\t\t// when window width is <= 480px\r\n// \t\t\t1550: {\r\n// \t\t\t\tslidesPerView: 4,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t900: {\r\n// \t\t\t\tslidesPerView: 3,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t700: {\r\n// \t\t\t\tslidesPerView: 2,\r\n// \t\t\t\tspaceBetween: 20,\r\n// \t\t\t},\r\n// \t\t\t// when window width is <= 320px\r\n// \t\t\t300: {\r\n// \t\t\t\tslidesPerView: 1,\r\n// \t\t\t\tspaceBetween: 10,\r\n// \t\t\t},\r\n// \t\t},\r\n// \t});\r\n// }\r\n\r\n$(\".filter-wrapper.prop-wrapper, .filter-wrapper.place-wrapper .filter-wrapper-scroll\").mCustomScrollbar({\r\n\ttheme: \"dark-thick\",\r\n\tsetHeight: \"255\",\r\n\taxis: \"y\",\r\n});\r\n\r\n// // triggers\r\n// var filter_default_url = $(\"#ajax-filter-url\").val(),\r\n// \tfilter_date_datepicker = $(\"#filter-date-datepicker\"),\r\n// \tcurrent_date = $(\"#filter-date-current\").data(\"from\"),\r\n// \tfilter_preset = \"default\";\r\n\r\n// $(\"#filter-date-datepicker\").bind(\"pickmeup-change\", function (e) {\r\n// \tfilter_preset = false;\r\n// \teventFilterSet(true);\r\n// });\r\n\r\n// $(\".filter-date-set\").click(function (e) {\r\n// \te.preventDefault();\r\n// \tlet $$ = $(this);\r\n// \t$(\".filter-date-set\").removeClass(\"active\");\r\n// \tif ($$.data(\"to\") !== undefined) {\r\n// \t\tpickmeup(\"#filter-date-datepicker\").set_date([$$.data(\"from\"), $$.data(\"to\")]);\r\n// \t} else {\r\n// \t\tpickmeup(\"#filter-date-datepicker\").set_date($$.data(\"from\"));\r\n// \t}\r\n// \tfilter_preset = $$.data(\"preset\");\r\n// \t$$.addClass(\"active\");\r\n// \t$(\".filter-wrapper\").removeClass(\"active\");\r\n// \teventFilterSet(true);\r\n// });\r\n\r\n// $(\".filter-date-set-custom\").click(function (e) {\r\n// \te.preventDefault();\r\n// \tfilter_preset = false;\r\n// \t$(\".filter-wrapper\").removeClass(\"active\");\r\n// \teventFilterSet(true);\r\n// });\r\n\r\n// $(\".filter-prop-set\")\r\n// \t.on(\"mousedown\", function (e) {\r\n// \t\te.preventDefault();\r\n// \t})\r\n// \t.click(function (e) {\r\n// \t\te.preventDefault();\r\n// \t\t$(\".trigger-filter\").removeClass(\"open\");\r\n// \t\t// $(\".filter-wrapper\").removeClass(\"active\");\r\n// \t\tlet $$ = $(this).prev();\r\n// \t\t$$.prop(\"checked\", !$$.prop(\"checked\"));\r\n// \t\teventFilterSet(true);\r\n// \t});\r\n\r\n// $(\".type__item\").click(function (e) {\r\n// \te.preventDefault();\r\n// \tlet $$ = $(this),\r\n// \t\tfilters = eventFilterSet(false);\r\n// \t$$.addClass(\"active\").siblings().removeClass(\"active\");\r\n// \t$.ajax({\r\n// \t\turl: \"/ajax/\",\r\n// \t\tcache: false,\r\n// \t\tdata: {\r\n// \t\t\tmode: $$.data(\"mode\"),\r\n// \t\t\tfilters: filters,\r\n// \t\t\tpage: 0,\r\n// \t\t\tstyle: $$.data(\"id\"),\r\n// \t\t},\r\n// \t\ttype: \"post\",\r\n// \t\tdataType: \"text\",\r\n// \t\tsuccess: function (response) {\r\n// \t\t\t$(\"#ajax-container\").removeClass().addClass(\"catalog\").addClass($$.data(\"view\")).html(response);\r\n// \t\t\t$(\".trigger-ajax-pagination\").each(function () {\r\n// \t\t\t\tlet $$ = $(this);\r\n// \t\t\t\t$$.data(\"page\", 1);\r\n// \t\t\t\t$$.parent().fadeIn();\r\n// \t\t\t});\r\n// \t\t},\r\n// \t});\r\n// });\r\n\r\n// $(\".trigger-sort\").change(function () {\r\n// \tlet $$ = $(this);\r\n// \tlet filter = filter_init();\r\n// \t$.ajax({\r\n// \t\turl: \"/ajax/\",\r\n// \t\tcache: false,\r\n// \t\tdata: {\r\n// \t\t\tmode: $$.data(\"mode\"),\r\n// \t\t\tfilter: filter,\r\n// \t\t\tsort: $$.val(),\r\n// \t\t\tpage: $$.data(\"page\"),\r\n// \t\t},\r\n// \t\ttype: \"post\",\r\n// \t\tdataType: \"text\",\r\n// \t\tsuccess: function (response) {\r\n// \t\t\t$(\"#ajax-container\").html(response);\r\n// \t\t},\r\n// \t});\r\n// });\r\n\r\n$(\".trigger-filter\").click(function (e) {\r\n\te.preventDefault();\r\n\tlet t = $(this),\r\n\t\ttrigger = t.data(\"snap\");\r\n\t$(\".trigger-filter[data-snap='\" + trigger + \"']\").toggleClass(\"open\");\r\n\t$(\".trigger-filter[data-snap!='\" + trigger + \"']\").removeClass(\"open\");\r\n\t$(\".filter-wrapper[data-snap='\" + trigger + \"']\").toggleClass(\"active\");\r\n\t$(\".filter-wrapper[data-snap!='\" + trigger + \"']\").removeClass(\"active\");\r\n});\r\n\r\n$(document).click(function (e) {\r\n\tvar container = $(\".sort-list__item\");\r\n\tif (container.has(e.target).length === 0) {\r\n\t\t$(\".trigger-filter\").removeClass(\"open\");\r\n\t\t$(\".filter-wrapper\").removeClass(\"active\");\r\n\t}\r\n});\r\n\r\n// $(\"input.filter-search-input\").keyup(function () {\r\n// \tlet v = $(this).val().toLowerCase(),\r\n// \t\ts = $(this).data(\"snap\");\r\n// \tif (v.length > 0) {\r\n// \t\t$('ul[data-snap=\"' + s + '\"] > li').addClass(\"hidden\");\r\n// \t\t$('ul[data-snap=\"' + s + '\"] > li[data-name*=' + v + \"]\").removeClass(\"hidden\");\r\n// \t} else {\r\n// \t\t$('ul[data-snap=\"' + s + '\"] > li').removeClass(\"hidden\");\r\n// \t}\r\n// });\r\n\r\n// $(\"body\").on(\"click\", \".trigger-ajax-pagination\", function (e) {\r\n// \te.preventDefault();\r\n// \tlet $$ = $(this),\r\n// \t\tpage = $$.data(\"page\"),\r\n// \t\tlimit = $$.data(\"limit\"),\r\n// \t\tsid = $$.data(\"sid\"),\r\n// \t\tfilters = eventFilterSet(false);\r\n// \tlet next = page + 1;\r\n// \tif (next == limit) {\r\n// \t\t$$.parent().fadeOut();\r\n// \t}\r\n// \t$$.data(\"page\", next);\r\n// \t$.ajax({\r\n// \t\turl: \"/ajax/\",\r\n// \t\tcache: false,\r\n// \t\tdata: {\r\n// \t\t\tmode: $$.data(\"mode\"),\r\n// \t\t\tfilters: filters,\r\n// \t\t\tpage: page,\r\n// \t\t\tsid: sid,\r\n// \t\t},\r\n// \t\ttype: \"post\",\r\n// \t\tdataType: \"text\",\r\n// \t\tsuccess: function (response) {\r\n// \t\t\t$(\"#ajax-container\").append(response);\r\n// \t\t},\r\n// \t});\r\n// });\r\n\r\n// $(\".trigger-ajax-reviews\").click(function (e) {\r\n// \te.preventDefault();\r\n// \tlet $$ = $(this),\r\n// \t\tpage = $$.data(\"page\"),\r\n// \t\tlimit = $$.data(\"limit\");\r\n// \tlet next = page + 1;\r\n// \tif (next == limit) {\r\n// \t\t$$.parent().fadeOut();\r\n// \t}\r\n// \t$$.data(\"page\", next);\r\n// \t$.ajax({\r\n// \t\turl: \"/ajax/\",\r\n// \t\tcache: false,\r\n// \t\tdata: {\r\n// \t\t\tmode: \"reviews:get\",\r\n// \t\t\tsource: $$.data(\"source\"),\r\n// \t\t\tpage: page,\r\n// \t\t},\r\n// \t\ttype: \"post\",\r\n// \t\tdataType: \"text\",\r\n// \t\tsuccess: function (response) {\r\n// \t\t\t$(\"#ajax-reviews\").append(response);\r\n// \t\t},\r\n// \t});\r\n// });\r\n\r\n// // init\r\n// if ($(\".datepicker-wrapper\").length) {\r\n// \tif (filter_date_datepicker.data(\"from\") !== \"undefined\" && filter_date_datepicker.data(\"to\") !== \"undefined\") {\r\n// \t\tpickmeup(\"#filter-date-datepicker\").set_date([filter_date_datepicker.data(\"from\"), filter_date_datepicker.data(\"to\")]);\r\n// \t\t$(\"#filter-date-current\").text(\"РџРµСЂРёРѕРґ: СЃРІРѕР№ РґРёР°РїР°Р·РѕРЅ\");\r\n// \t} else if (filter_date_datepicker.data(\"from\") !== \"undefined\") {\r\n// \t\tpickmeup(\"#filter-date-datepicker\").set_date(filter_date_datepicker.data(\"from\"));\r\n// \t}\r\n// \teventFilterUpdate();\r\n// }\r\n\r\n// document.addEventListener(\r\n// \t\"DOMContentLoaded\",\r\n// \tfunction () {\r\n// \t\tlet dateSlider = new Swiper(\".date-list\", {\r\n// \t\t\tslidesPerView: \"auto\",\r\n// \t\t\tfreeMode: true,\r\n// \t\t\twatchOverflow: true,\r\n// \t\t\tobserver: true,\r\n// \t\t\tobserveParents: true,\r\n// \t\t});\r\n// \t},\r\n// \tfalse\r\n// );"],"file":"b.events.js"}