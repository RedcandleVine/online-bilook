{"version":3,"names":[],"mappings":"","sources":["online.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n\tconst swiper8 = new Swiper(\".main-galery-slider\", {\r\n\t\tslidesPerView: \"auto\",\r\n\t\tspaceBetween: 15,\r\n\t\tcenteredSlides: true,\r\n\t\tinitialSlide: 1,\r\n\t\tloop: true,\r\n\t\twatchOverflow: true,\r\n\r\n\t\tnavigation: {\r\n\t\t\tnextEl: document.querySelector(\".main-galery__next\"),\r\n\t\t\tprevEl: document.querySelector(\".main-galery__prev\"),\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tel: document.querySelector(\".main-galery__pagination\"),\r\n\t\t\tclickable: true,\r\n\t\t},\r\n\t\t// Responsive breakpoints\r\n\t});\r\n\r\n\tlet cinemaSlider = document.querySelectorAll(\".js-slider-cinema\");\r\n\r\n\tif (cinemaSlider.length > 0) {\r\n\t\tcinemaSlider.forEach((element) => {\r\n\t\t\tlet elSlider = element.querySelector(\".slider-cinema\");\r\n\t\t\tlet elSliderArrowPrev = element.querySelector(\".slider-cinema-prev\");\r\n\t\t\tlet elSliderArrowNext = element.querySelector(\".slider-cinema-next\");\r\n\t\t\tconst swiperCinema = new Swiper(elSlider, {\r\n\t\t\t\tslidesPerView: 5,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\twatchOverflow: true,\r\n\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: elSliderArrowNext,\r\n\t\t\t\t\tprevEl: elSliderArrowPrev,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Responsive breakpoints\r\n\t\t\t\tbreakpoints: {\r\n\t\t\t\t\t// when window width is <= 480px\r\n\t\t\t\t\t1550: {\r\n\t\t\t\t\t\tslidesPerView: 5,\r\n\t\t\t\t\t\tspaceBetween: 20,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t900: {\r\n\t\t\t\t\t\tslidesPerView: 4,\r\n\t\t\t\t\t\tspaceBetween: 20,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t700: {\r\n\t\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\t\tspaceBetween: 20,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t450: {\r\n\t\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\t\tspaceBetween: 20,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// when window width is <= 320px\r\n\t\t\t\t\t300: {\r\n\t\t\t\t\t\tslidesPerView: 1,\r\n\t\t\t\t\t\tspaceBetween: 10,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n});\r\n\r\n$(document).ready(function () {\r\n\t$(\".cinema-header__switch\").on(\"click\", function (e) {\r\n\t\te.preventDefault();\r\n\t\tif ($(this).hasClass(\"--white\")) {\r\n\t\t\t$(this).removeClass(\"--white\");\r\n\t\t\t$(this).addClass(\"--dark\");\r\n\t\t} else {\r\n\t\t\t$(this).addClass(\"--white\");\r\n\t\t\t$(this).removeClass(\"--dark\");\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".cinema-card__showOther\").on(\"click\", function () {\r\n\t\t$(this).slideUp();\r\n\t\t$(this).next(\".cinema-card__other-block\").slideDown();\r\n\t});\r\n\r\n\tif ($(window).width() > 1200) {\r\n\t\t$(\".search-box__item\").css({ width: `${$(\".header__menu\").innerWidth() + $(\".search-box\").innerWidth()}` });\r\n\t} else {\r\n\t\t$(\".search-box__item\").css({ width: \"100%\" });\r\n\t}\r\n\r\n\t$(window).on(\"resize\", function () {\r\n\t\tif ($(window).width() > 1200) {\r\n\t\t\t$(\".search-box__item\").css({ width: `${$(\".header__menu\").innerWidth() + $(\".search-box\").innerWidth()}` });\r\n\t\t} else {\r\n\t\t\t$(\".search-box__item\").css({ width: \"100%\" });\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).mouseup(function (e) {\r\n\t\tvar container = $(\".search-box__item\");\r\n\t\tif ($(window).width() > 1200) {\r\n\t\t\tif (container.has(e.target).length === 0) {\r\n\t\t\t\t$(\".search-box__show-block\").removeClass(\"--hidden\");\r\n\t\t\t\tcontainer.slideUp();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".search-box__show-block\").on(\"click\", function () {\r\n\t\t$(this).addClass(\"--hidden\");\r\n\t\t$(\".search-box__item\").slideDown();\r\n\t});\r\n\r\n\tif ($(\".online-crew__list-item\").length > 7) {\r\n\t\t$(\".online-crew__list\").append(\"<a class='online-crew__more'><span>Ещё</span></a>\");\r\n\r\n\t\t$.each($(\".online-crew__list-item\"), function (index, val) {\r\n\t\t\tif (index > 6) {\r\n\t\t\t\t$(val).css({ display: \"none\" });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(\".online-crew__more\").on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet button = $(this);\r\n\t\t\t$.each($(\".online-crew__list-item\"), function (index, val) {\r\n\t\t\t\tif (index > 6) {\r\n\t\t\t\t\tif ($(val).is(\":hidden\")) {\r\n\t\t\t\t\t\t$(val).fadeIn();\r\n\t\t\t\t\t\tbutton.find(\"span\").text(\"Скрыть\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(val).fadeOut();\r\n\t\t\t\t\t\tbutton.find(\"span\").text(\"Еще\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t$(\".cinema-text\").readmore({\r\n\t\tmoreLink: '<button class=\"spoiler-text btn-border btn-border--white\"><svg viewBox=\"0 0 200 50\"><rect x=\"1\" y=\"0\" fill=\"none\" rx=\"25\" ry=\"25\" width=\"98%\" height=\"100%\"></rect></svg><span>Показать еще</span></button>',\r\n\t\tlessLink: '<button class=\"spoiler-text btn-border btn-border--white\"><svg viewBox=\"0 0 200 50\"><rect x=\"1\" y=\"0\" fill=\"none\" rx=\"25\" ry=\"25\" width=\"98%\" height=\"100%\"></rect></svg><span>Свернуть</span></button>',\r\n\t\tcollapsedHeight: 200,\r\n\t\tspeed: 100,\r\n\r\n\t\tafterToggle: function (trigger, element, expanded) {\r\n\t\t\tif ($(element).hasClass(\"readmore-js-collapsed\")) {\r\n\t\t\t\t$(element).removeClass(\"readmore-js-collapsed\");\r\n\t\t\t} else {\r\n\t\t\t\t$(element).addClass(\"readmore-js-collapsed\");\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\r\n\t// $(\".online-review__review\").readmore({\r\n\t//     moreLink: '<button class=\"online-review__button-more\"><span>Читать полностью...</span></button>',\r\n\t//     lessLink: '<button class=\"online-review__button-more\"><span>Скрыть</span></button>',\r\n\t//     collapsedHeight: 80,\r\n\t//     speed: 100,\r\n\r\n\t//     afterToggle: function (trigger, element, expanded) {\r\n\t//       if ($(element).hasClass(\"readmore-js-collapsed\")) {\r\n\t//         $(element).removeClass(\"readmore-js-collapsed\");\r\n\t//       } else {\r\n\t//         $(element).addClass(\"readmore-js-collapsed\");\r\n\t//       }\r\n\t//     },\r\n\t//   });\r\n\r\n\t$.each($(\".online-review__item\"), function (index, val) {\r\n\t\tlet elTextWrap = $(val).find(\".online-review__review-text\");\r\n\t\tlet elTextAll = elTextWrap.text();\r\n\t\tlet elTextSub = elTextAll.substring(0, 350);\r\n\t\tif (elTextAll.length > 350) {\r\n\t\t\t$(val).addClass(\"--hidden\");\r\n\r\n\t\t\telTextWrap.text(elTextSub + \"...\");\r\n\r\n\t\t\t$(val).find(\".online-review__review\").append(\"<div class='online-review__review-all'>Читать полностью...</div>\");\r\n\r\n\t\t\t$(val)\r\n\t\t\t\t.find(\".online-review__review-all\")\r\n\t\t\t\t.on(\"click\", function () {\r\n\t\t\t\t\tif ($(val).hasClass(\"--hidden\")) {\r\n\t\t\t\t\t\telTextWrap.text(elTextAll);\r\n\t\t\t\t\t\t$(val).removeClass(\"--hidden\");\r\n\r\n\t\t\t\t\t\t$(this).text(\"Скрыть...\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telTextWrap.text(elTextSub + \"...\");\r\n\t\t\t\t\t\t$(val).addClass(\"--hidden\");\r\n\r\n\t\t\t\t\t\t$(this).text(\"Читать полностью...\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tif ($(\".online-review__item\").length > 3) {\r\n\t\t$(\".online-review__block\").append(\"<div class='online-review__more-block'><div class='online-review__more'><span>показать еще</span></div></div>\");\r\n\r\n\t\t$.each($(\".online-review__item\"), function (index, val) {\r\n\t\t\tif (index > 2) {\r\n\t\t\t\t$(val).css({ display: \"none\" });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(\".online-review__more-block\").on(\"click\", function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet button = $(this);\r\n\t\t\t$.each($(\".online-review__item\"), function (index, val) {\r\n\t\t\t\tif (index > 2) {\r\n\t\t\t\t\tif ($(val).is(\":hidden\")) {\r\n\t\t\t\t\t\t$(val).fadeIn();\r\n\t\t\t\t\t\tbutton.find(\"span\").text(\"Скрыть\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(val).fadeOut();\r\n\t\t\t\t\t\tbutton.find(\"span\").text(\"Показать еще\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// let gallerySliders = Array.prototype.slice.call(document.querySelectorAll(\".main-galery\"));\r\n\r\n\t// if (gallerySliders.length > 0) {\r\n\t//     gallerySliders.forEach((element) => {\r\n\t//         let slidesGallery = element.querySelectorAll(\".main-galery__list-item\");\r\n\r\n\t//         let slidesPer = \"auto\";\r\n\t//         let initSlide = 1;\r\n\t//         let centerSlide = true;\r\n\t//         let sliderLoop = true;\r\n\r\n\t//         let sliderMainGalery = new Swiper(element.querySelector(\".main-galery-slider\"), {\r\n\t//             slidesPerView: slidesPer,\r\n\t//             spaceBetween: 15,\r\n\t//             centeredSlides: centerSlide,\r\n\t//             initialSlide: initSlide,\r\n\t//             loop: sliderLoop,\r\n\t//             watchOverflow: true,\r\n\r\n\t//             navigation: {\r\n\t//                 nextEl: element.querySelector(\".main-galery__next\"),\r\n\t//                 prevEl: element.querySelector(\".main-galery__prev\"),\r\n\t//             },\r\n\t//             pagination: {\r\n\t//                 el: element.querySelector(\".main-galery__pagination\"),\r\n\t//                 clickable: true,\r\n\t//             },\r\n\t//         });\r\n\t//     });\r\n\t// }\r\n});\r\n"],"file":"online.js"}